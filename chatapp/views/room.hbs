<div class="main" style="width: 100vw;
                        min-height: 100vh;
                        padding: 0px;
                        display: flex;
                        align-items:center;
                        justify-content: center;
                        background: linear-gradient(#009688 0%, #009688 130px, #d9dbd5 130px, #d9dbd5 100%)">
    <div class="main-area"
        style="position:relative;
            width: 1396px;
            max-width: 100%;
            height: calc(100vh - 40px);
            background: #fff;
            box-shadow: 0 1px 1px 0 rgba(0,0,0,0.06),0 2px 5px 0 rgba(0,0,0,0.06);
            display: flex;">
        <div class="leftside" 
            id="leftside"
            style="position:relative;
                flex: 30%;
                background:#fff;
                display: none;
                border-right: rgba(0,0,0,0.1);
                transition: 0.5s">
            <div class="header"
                style="position:relative;
                    width: 100%;
                    height: 60px;
                    background: #ededed;
                    display: flex;
                    align-items: center;      
                    justify-content: flex-start;
                    padding: 0 10px;">
                <img src="{{userIcon}}"
                    alt=""
                    style="width: 45px;
                        height: 45px;
                        border-radius: 22.5px;
                        border: 1px solid lightgray;
                        margin-right: 10px;">
                <div class="room-login_user"
                    style="display:flex;
                        font-weight: 1000;
                        font-size:large;">
                    <!-- ログインユーザ：さん -->{{userName}}
                    <br>
                    <input id="userName" type="hidden" value={{userName}}>
                    <input id="userIcon" type="hidden" value={{userIcon}}>
                </div>
                <div class="room-exit"
                    style="margin: 0 0 0 auto">
                    <input type="button" 
                        value="LOGOUT" 
                        class="common-button room-exit_button btn btn-danger" 
                        onclick="exit();">
                </div>
            </div>
            <div class="search-bar"
                style="position:relative;
                    width: 100%;
                    height: 50px;
                    display:flex;
                    justify-content:center;
                    align-items:center;
                    background:#ededed;
                    padding: 0 10px;">
                <input type="text" 
                    placeholder="Search members"
                    style="background: #fff;
                        border: none;
                        outline: none;
                        width: 100%;
                        padding: 6px;
                        height: 36px;
                        border-radius: 18px;
                        font-size: 14px;
                        padding-left: 45px;">
                <ion-icon name="search-outline"
                        style="position: absolute;
                            left: 23px;
                            height: 25px;
                            width: 25px;
                            overflow:hidden;">
                </ion-icon>
            </div>
            <div class="user-list"
                style="position:relative;
                    height: calc(100% - 110px);
                    width: 100%;">
                <div class="block"
                    style="position: reletive;
                        width: 100%;
                        display:flex;
                        justify-content:flex-start;
                        align-items:center;
                        padding: 15px;
                        border-bottom: 1px solid rgba(0,0,0,0.1);
                        cursor:pointer;
                        background: #fff;"
                    onmouseover="this.style.background='#f5f5f5'"
                    onmouseout="this.style.background='#fff'">
                    <div class="imgbox"
                        style="position: reletive;
                            height: 45px;
                            width: 45px;
                            border-radius: 22.5px;">
                        <img src="animal_arupaka.png" 
                            alt="" 
                            class="cover"
                            style="width: 45px;
                                height: 45px;
                                border-radius: 22.5px;
                                overflow:hidden;
                                border: 1px solid lightgray;">
                    </div>
                    <div class="name"
                        style="margin-left: 10px;
                            height: 40px;">
                        <p style="font-weight: 1000;
                            line-height: 40px;">
                            kaiyo tominaga
                        </p>
                    </div>
                </div>
                <div class="block"
                    style="position: reletive;
                        width: 100%;
                        display:flex;
                        justify-content:flex-start;
                        align-items:center;
                        padding: 15px;
                        border-bottom: 1px solid rgba(0,0,0,0.1);
                        cursor:pointer;
                        background: #fff;"
                    onmouseover="this.style.background='#f5f5f5'"
                    onmouseout="this.style.background='#fff'">
                    <div class="imgbox"
                        style="position: reletive;
                            height: 45px;
                            width: 45px;
                            border-radius: 22.5px;">
                        <img src="animal_buta.png" 
                            alt="" 
                            class="cover"
                            style="width: 45px;
                                height: 45px;
                                border-radius: 22.5px;
                                overflow:hidden;
                                border: 1px solid lightgray;">
                    </div>
                    <div class="name"
                        style="margin-left: 10px;
                            height: 40px;">
                        <p style="font-weight: 1000;
                            line-height: 40px;">
                            kaiyo tominaga
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="rightside"
            style="position: relative;
                flex: 70%;
                background: #fff;
                border-left: 1px solid rgba(0,0,0,0.2);">
            <div class="row"
                style="position:relative;
                    display: flex;
                    width: 100%;
                    height: 60px;
                    line-height: 60px;
                    margin-left: 0px;
                    align-items:center;
                    padding-left: 20px;
                    font-weight: 1000;
                    font-family: Arial;
                    background:#ededed;">
                <button id="label"
                        style="margin:0px;
                            width: 40px;
                            height: 40px;
                            border: none;
                            position:absolute;
                            top: 10px;
                            left: 5px;
                            z-index: 1;
                        ">
                    <ion-icon name="menu-outline"
                            style="width: 40px;
                                height: 40px;
                                position:relative;
                                top:-2px;
                                left:-5px;
                                cursor:pointer;">
                    </ion-icon>
                </button>
                <h3 style="margin-bottom: 0px;
                        margin-left: 30px;">
                        <span style="background-color: green;
                                    border-radius: 10px;
                                    padding: 5px;">Chat</span>Room
                </h3>
            </div>
            <div class="room-thread"
                style="height: calc(100% - 130px);
                    overflow-y: scroll;
                    padding: 12px;">
                <div id="thread">
                </div>
            </div>
            <form method="post" action="/">
                <div class="chatbox-input"
                    style="width: 100%;
                        position:absolute;
                        bottom: 0px;
                        height: 70px;
                        background: #f0f0f0;
                        display:flex;
                        justify-content:center;
                        align-items:center;
                        padding: 10px;">
                    <div class="room-message"
                        style="display: flex;
                        align-items:center;
                        justify-content:space-between;
                        width: 100%;">
                        <textarea id="message" 
                            rows="1" 
                            class="room-message_textarea" 
                            placeholder="投稿文を入力してください(@相手のユーザ名@でDMを送れます)"
                            style="border-radius: 20px;
                                width: 80%;
                                margin-left: 20px;
                                margin-top: 4px;
                                margin-bottom: 4px;
                                padding: 10px 20px;
                                border: none;
                                resize: none;"></textarea>
                        <input type="button" 
                            value="投稿" 
                            class="common-button room-publish_button btn btn-primary" 
                            onclick="publish();"
                            style="height: 40px;
                                    border: none;
                                    margin-left: 10px;
                                    border-radius: 10px;">

                        <input type="button" 
                                value="メモ" 
                                class="common-button room-memo_button btn btn-primary" 
                                onclick="memo();"
                                style="height: 40px;
                                        border: none;
                                        border-radius: 10px;
                                        margin-left: 10px;">

                        <button type = "button"
                        onclick = "stamp();">
                        <img src = "stamp_ukareru_woman.png"
                                alt="嬉しい"
                                style="width: 40px;
                                        height: 40px;
                                        border-radius: 20px;
                                        background: white;
                                        margin-right: 20px;"/></button>
                        <button type = "button"
                        onclick = "stampangry();">
                        <img src = "stamp_okoru_man.png"
                                alt="怒り"
                                style="width: 40px;
                                        height: 40px;
                                        border-radius: 20px;
                                        background: white;
                                        margin-right: 20px;"/></button>
                        </div>                
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="/javascripts/socket.js"></script>
<script src="/javascripts/enter.js"></script>
<script src="/javascripts/publish.js"></script>
<script src="/javascripts/memo.js"></script>
<script src="/javascripts/stamp.js"></script>
<script src="/javascripts/exit.js"></script>
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

<script>
    const menu_icon = document.getElementById('label');
    const leftside = document.getElementById('leftside');

    menu_icon.addEventListener(`click`, () => {
        if(leftside.style.display=="none"){
            leftside.style.display="block";
        } else if(leftside.style.display=="block") {
            leftside.style.display="none";
        }
    })
</script>

<style>
    .mymessage .message::after{
        content: '';
        position: absolute;
        right: 0;
        top: 50%;
        width: 0;
        height: 0;
        border: 20px solid transparent;
        border-left-color: #dcf8c6;
        border-right: 0;
        border-top: 0;
        margin-top: 0px;
        margin-right: -13px;
    }

    .othersmessage .message::after{
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        width: 0;
        height: 0;
        border: 20px solid transparent;
        border-right-color: #ddd;
        border-left: 0;
        border-top: 0;
        margin-top: 0px;
        margin-left: -13px;
    }

    .mymessage .message{
        position:relative;
        left:0px;
        text-align:left;
        padding: 8px;
        max-width: 65%;
        background:#dcf8c6;
        border-radius: 10px;
    }

    .othersmessage .message{
        position:relative;
        left:0px;
        text-align:left;
        padding: 8px;
        max-width: 65%;
        background:#ddd;
        border-radius: 10px;
    }

    .name-and-icon{
        display: flex;
        flex-flow: column;
        align-items: center;
        justify-content: center;
    }

    .icon{
        width: 45px;
        height: 45px;
        border-radius: 22.5px;
        border: 1px solid lightgray;
        margin-right: 10px;
        margin-left: 10px;
    }

    .mymessage{
        display: flex;
        flex-flow: row;
        margin-bottom: 10px;
        justify-content: flex-end;
        align-items: center
    }
    .othersmessage{
        display: flex;
        flex-flow: row;
        margin-bottom: 10px;
        align-items: center
    }

    .memo{
        background-color: #d6f3ff;
        border-radius: 10px;
    }

</style>
